{"version":3,"names":[],"sources":["src/PNotifyAnimateComponent.html"],"sourcesContent":["<script context=\"module\">\n  export const key = 'Animate';\n\n  export const defaults = {\n    // Use animate.css to animate the notice.\n    animate: false,\n    // The class to use to animate the notice in.\n    inClass: '',\n    // The class to use to animate the notice out.\n    outClass: ''\n  };\n</script>\n<script>\n  // The PNotify notice.\n  export let self = null;\n\n  export let animate = defaults.animate;\n  export let inClass = defaults.inClass;\n  export let outClass = defaults.outClass;\n\n  let _animateIn;\n  let _animateOut;\n  let _animation;\n\n  $: {\n    if (animate && !_animateIn) {\n      _animation = self.animation;\n      _animateIn = self.animateIn;\n      _animateOut = self.animateOut;\n      self.$set({\n        animation: 'none',\n        animateIn,\n        animateOut\n      });\n    } else if (!animate && _animateIn) {\n      self.$set({\n        animation: _animation,\n        animateIn: _animateIn,\n        animateOut: _animateOut\n      });\n      _animation = null;\n      _animateIn = null;\n      _animateOut = null;\n    }\n  }\n\n  self.on('pnotify:update', () => {\n    if (animate && self.refs.elem) {\n      var animSpeed = 250;\n      if (self.animateSpeed === 'slow') {\n        animSpeed = 400;\n      } else if (self.animateSpeed === 'fast') {\n        animSpeed = 100;\n      } else if (self.animateSpeed > 0) {\n        animSpeed = self.animateSpeed;\n      }\n      animSpeed = animSpeed / 1000;\n      if (self.refs.elem.style.animationDuration !== animSpeed + 's') {\n        self.refs.elem.style.animationDuration = animSpeed + 's';\n      }\n    }\n  });\n\n  function animateIn (callback, immediate) {\n    // Declare that the notice is animating in.\n    self.setAnimating('in');\n\n    let off;\n    const finished = event => {\n      if (event && self.refs.elem && event.target !== self.refs.elem) {\n        return;\n      }\n      off();\n      self.setAnimatingClass('ui-pnotify-in animated');\n      if (callback) {\n        callback.call();\n      }\n      // Declare that the notice has completed animating.\n      self.setAnimating(false);\n    };\n\n    off = self.on('animationend', finished);\n    if (immediate) {\n      finished();\n    } else {\n      self.setAnimatingClass('ui-pnotify-in animated ' + inClass);\n    }\n  }\n\n  function animateOut (callback, immediate) {\n    // Declare that the notice is animating out.\n    self.setAnimating('out');\n\n    let off;\n    const finished = event => {\n      if (event && self.refs.elem && event.target !== self.refs.elem) {\n        return;\n      }\n      off();\n      self.setAnimatingClass('animated');\n      if (callback) {\n        callback.call();\n      }\n      // Declare that the notice has completed animating.\n      if (self.setAnimating) {\n        self.setAnimating(false);\n      }\n    };\n\n    off = self.on('animationend', finished);\n    if (immediate) {\n      finished();\n    } else {\n      self.setAnimatingClass('ui-pnotify-in animated ' + outClass);\n    }\n  }\n\n  self.attention = (aniClass, callback) => {\n    let off;\n    const cb = () => {\n      off();\n      self.removeModuleClass('container', 'animated', aniClass);\n      if (callback) {\n        callback.call(self);\n      }\n    };\n    off = self.on('animationend', cb);\n    self.addModuleClass('container', 'animated', aniClass);\n  };\n</script>\n"],"mappings":"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"}