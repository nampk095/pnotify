{"version":3,"names":[],"sources":["src/PNotifyAnimateComponent.html"],"sourcesContent":["<script context=\"module\">\n  export const key = 'Animate';\n\n  export const defaults = {\n    // Use animate.css to animate the notice.\n    animate: false,\n    // The class to use to animate the notice in.\n    inClass: '',\n    // The class to use to animate the notice out.\n    outClass: ''\n  };\n</script>\n<script>\n  // The PNotify notice.\n  export let _notice = null;\n\n  export let animate = defaults.animate;\n  export let inClass = defaults.inClass;\n  export let outClass = defaults.outClass;\n\n  let _animateIn;\n  let _animateOut;\n  let _animation;\n\n  $: {\n    if (animate && !_animateIn) {\n      _animation = _notice.animation;\n      _animateIn = _notice.animateIn;\n      _animateOut = _notice.animateOut;\n      _notice.$set({\n        animation: 'none',\n        animateIn,\n        animateOut\n      });\n    } else if (!animate && _animateIn) {\n      _notice.$set({\n        animation: _animation,\n        animateIn: _animateIn,\n        animateOut: _animateOut\n      });\n      _animation = null;\n      _animateIn = null;\n      _animateOut = null;\n    }\n  }\n\n  $: {\n    if (animate && _notice.refs.elem) {\n      var animSpeed = 250;\n      if (_notice.animateSpeed === 'slow') {\n        animSpeed = 400;\n      } else if (_notice.animateSpeed === 'fast') {\n        animSpeed = 100;\n      } else if (_notice.animateSpeed > 0) {\n        animSpeed = _notice.animateSpeed;\n      }\n      animSpeed = animSpeed / 1000;\n      _notice.refs.elem.style.animationDuration = animSpeed + 's';\n    }\n  }\n\n  function animateIn (callback, immediate) {\n    // Declare that the notice is animating in.\n    _notice.setAnimating('in');\n\n    let off;\n    const finished = event => {\n      if (event && _notice.refs.elem && event.target !== _notice.refs.elem) {\n        return;\n      }\n      off();\n      _notice.setAnimatingClass('ui-pnotify-in animated');\n      if (callback) {\n        callback.call();\n      }\n      // Declare that the notice has completed animating.\n      _notice.setAnimating(false);\n    };\n\n    off = _notice.on('animationend', finished);\n    if (immediate) {\n      finished();\n    } else {\n      _notice.setAnimatingClass('ui-pnotify-in animated ' + inClass);\n    }\n  }\n\n  function animateOut (callback, immediate) {\n    // Declare that the notice is animating out.\n    _notice.setAnimating('out');\n\n    let off;\n    const finished = event => {\n      if (event && _notice.refs.elem && event.target !== _notice.refs.elem) {\n        return;\n      }\n      off();\n      _notice.setAnimatingClass('animated');\n      if (callback) {\n        callback.call();\n      }\n      // Declare that the notice has completed animating.\n      if (_notice.setAnimating) {\n        _notice.setAnimating(false);\n      }\n    };\n\n    off = _notice.on('animationend', finished);\n    if (immediate) {\n      finished();\n    } else {\n      _notice.setAnimatingClass('ui-pnotify-in animated ' + outClass);\n    }\n  }\n\n  export const attention = (aniClass, callback) => {\n    let off;\n    const cb = () => {\n      off();\n      _notice.removeModuleClass('container', 'animated', aniClass);\n      if (callback) {\n        callback.call(_notice);\n      }\n    };\n    off = _notice.on('animationend', cb);\n    _notice.addModuleClass('container', 'animated', aniClass);\n  };\n</script>\n"],"mappings":"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"}