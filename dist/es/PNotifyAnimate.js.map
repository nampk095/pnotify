{"version":3,"names":[],"sources":["src/PNotifyAnimate.svelte"],"sourcesContent":["<script context=\"module\">\n  export const position = 'PrependContainer';\n  export const defaults = {\n    // The class to use to animate the notice in. If only one of these is set,\n    // it will be used for both.\n    inClass: null,\n    // The class to use to animate the notice out. If only one of these is set,\n    // it will be used for both.\n    outClass: null\n  };\n</script>\n<script>\n  import { onDestroy } from 'svelte';\n\n  // The PNotify notice.\n  export let self = null;\n\n  export let inClass = defaults.inClass;\n  export let outClass = defaults.outClass;\n\n  let _animation = self.animation;\n  let _animateIn = self.animateIn;\n  let _animateOut = self.animateOut;\n\n  $: if (inClass || outClass) {\n    self.$set({\n      animation: 'none',\n      animateIn,\n      animateOut\n    });\n  } else {\n    self.$set({\n      animation: _animation,\n      animateIn: _animateIn,\n      animateOut: _animateOut\n    });\n  }\n\n  onDestroy(() => {\n    self.$set({\n      animation: _animation,\n      animateIn: _animateIn,\n      animateOut: _animateOut\n    });\n  });\n\n  self.on('pnotify:update', () => {\n    if (self.refs.elem) {\n      var animSpeed = 250;\n      if (self.animateSpeed === 'slow') {\n        animSpeed = 400;\n      } else if (self.animateSpeed === 'fast') {\n        animSpeed = 100;\n      } else if (self.animateSpeed > 0) {\n        animSpeed = self.animateSpeed;\n      }\n      animSpeed = animSpeed / 1000;\n      if (self.refs.elem.style.animationDuration !== animSpeed + 's') {\n        self.refs.elem.style.animationDuration = animSpeed + 's';\n      }\n    }\n  });\n\n  function animateIn (callback, immediate) {\n    // Declare that the notice is animating in.\n    self.setAnimating('in');\n\n    let off;\n    const finished = event => {\n      if (event && self.refs.elem && event.target !== self.refs.elem) {\n        return;\n      }\n      off();\n      self.setAnimatingClass('pnotify-in animated');\n      if (callback) {\n        callback.call();\n      }\n      // Declare that the notice has completed animating.\n      self.setAnimating(false);\n    };\n\n    off = self.on('animationend', finished);\n    if (immediate) {\n      finished();\n    } else {\n      self.setAnimatingClass('pnotify-in animated ' + (inClass || outClass));\n    }\n  }\n\n  function animateOut (callback, immediate) {\n    // Declare that the notice is animating out.\n    self.setAnimating('out');\n\n    let off;\n    const finished = event => {\n      if (event && self.refs.elem && event.target !== self.refs.elem) {\n        return;\n      }\n      off();\n      self.setAnimatingClass('animated');\n      if (callback) {\n        callback.call();\n      }\n      // Declare that the notice has completed animating.\n      if (self.setAnimating) {\n        self.setAnimating(false);\n      }\n    };\n\n    off = self.on('animationend', finished);\n    if (immediate) {\n      finished();\n    } else {\n      self.setAnimatingClass('pnotify-in animated ' + (outClass || inClass));\n    }\n  }\n\n  self.attention = (aniClass, callback) => {\n    let off;\n    const cb = () => {\n      off();\n      self.removeModuleClass('container', 'animated', aniClass);\n      if (callback) {\n        callback.call(self);\n      }\n    };\n    off = self.on('animationend', cb);\n    self.addModuleClass('container', 'animated', aniClass);\n  };\n</script>\n"],"mappings":"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"}