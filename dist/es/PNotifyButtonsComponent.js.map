{"version":3,"names":[],"sources":["src/PNotifyButtonsComponent.html"],"sourcesContent":["<script context=\"module\">\n  import { icons } from './PNotifyCore';\n\n  export const key = 'Buttons';\n\n  export const defaults = {\n    // Provide a button for the user to manually close the notice.\n    closer: true,\n    // Only show the closer button on hover.\n    closerHover: true,\n    // Provide a button for the user to manually stick the notice.\n    sticker: true,\n    // Only show the sticker button on hover.\n    stickerHover: true,\n    // The various displayed text, helps facilitating internationalization.\n    labels: {\n      close: 'Close',\n      stick: 'Stick',\n      unstick: 'Unstick'\n    },\n    // The classes to use for button icons. Leave them null to use the classes from the styling you're using.\n    classes: {\n      closer: null,\n      sticker: null,\n      stuck: null,\n      unstuck: null\n    }\n  };\n\n  // Add button icons to icons objects.\n  Object.assign(icons.bootstrap3, {\n    closer: 'glyphicon glyphicon-remove',\n    sticker: 'glyphicon',\n    stuck: 'glyphicon-play',\n    unstuck: 'glyphicon-pause'\n  });\n  Object.assign(icons.fontawesome4, {\n    closer: 'fa fa-times',\n    sticker: 'fa',\n    stuck: 'fa-play',\n    unstuck: 'fa-pause'\n  });\n  Object.assign(icons.fontawesome5, {\n    closer: 'fas fa-times',\n    sticker: 'fas',\n    stuck: 'fa-play',\n    unstuck: 'fa-pause'\n  });\n</script>\n\n{#if closer && !(self.refs.elem && self.refs.elem.classList.contains('nonblock'))}\n  <div\n      class=\"ui-pnotify-closer {self.getStyle('closer')} {(!closerHover || mouseIsIn) ? '' : 'ui-pnotify-buttons-hidden'}\"\n      role=\"button\"\n      tabindex=\"0\"\n      title={labels.close}\n      on:click={handleCloserClick}>\n    <span class={closerClass}></span>\n  </div>\n{/if}\n{#if sticker && !(self.refs.elem && self.refs.elem.classList.contains('nonblock'))}\n  <div\n      class=\"ui-pnotify-sticker {self.getStyle('sticker')} {(!stickerHover || mouseIsIn) ? '' : 'ui-pnotify-buttons-hidden'}\"\n      role=\"button\"\n      aria-pressed={!self.hide}\n      tabindex=\"0\"\n      title={self.hide ? labels.stick : labels.unstick}\n      on:click={handleStickerClick}>\n    <span class=\"{stickerClass} {self.hide ? unstuckClass : stuckClass}\"></span>\n  </div>\n{/if}\n\n<script>\n  import { onDestroy, beforeUpdate, tick } from 'svelte';\n\n  // The PNotify notice.\n  export let self = null;\n\n  export let closer = defaults.closer;\n  export let closerHover = defaults.closerHover;\n  export let sticker = defaults.sticker;\n  export let stickerHover = defaults.stickerHover;\n  export let labels = defaults.labels;\n  export let classes = defaults.classes;\n\n  let mouseIsIn = false;\n\n  // This keeps the beforeUpdate handler from going into a loop when we're taming Font Awesome's magic.\n  let updatingIcon = false;\n  // Save the old value of hide and icon, so we can do our magic.\n  let oldIcon;\n\n  // These are button icon classes.\n  $: stickerClass = self ? (classes.sticker === null ? self.getIcon('sticker') : classes.sticker) : '';\n  $: stuckClass = self ? (classes.stuck === null ? self.getIcon('stuck') : classes.stuck) : '';\n  $: unstuckClass = self ? (classes.unstuck === null ? self.getIcon('unstuck') : classes.unstuck) : '';\n  $: closerClass = self ? (classes.closer === null ? self.getIcon('closer') : classes.closer) : '';\n\n  beforeUpdate(async () => {\n    if (updatingIcon) {\n      return;\n    }\n\n    // Font Awesome 5 uses dark magic by replacing the icon element with an SVG.\n    // In order to make it play nice with Svelte, we have to clear the element\n    // and make it again.\n    const icon = self.hide ? unstuckClass : stuckClass;\n    if (\n      icon !== oldIcon &&\n      (\n        (self.icons === 'fontawesome5') ||\n        (typeof stickerClass === 'string' && stickerClass.match(/(^| )fa[srlb]($| )/)) ||\n        (typeof icon === 'string' && icon.match(/(^| )fa[srlb]($| )/))\n      )\n    ) {\n      sticker = false;\n      updatingIcon = true;\n      await tick();\n      sticker = true;\n      updatingIcon = false;\n      oldIcon = icon;\n    }\n  });\n\n  let removeMouseEnterHandler = self.on('mouseenter', handleMouseEnter);\n  let removeMouseLeaveHandler = self.on('mouseleave', handleMouseLeave);\n\n  onDestroy(() => {\n    removeMouseEnterHandler && removeMouseEnterHandler();\n    removeMouseLeaveHandler && removeMouseLeaveHandler();\n  });\n\n  function handleMouseEnter() {\n    mouseIsIn = true;\n  }\n\n  function handleMouseLeave() {\n    mouseIsIn = false;\n  }\n\n  function handleStickerClick () {\n    self.hide = !self.hide;\n  }\n\n  function handleCloserClick () {\n    self.close(false);\n    mouseIsIn = false;\n  }\n</script>\n\n<style>\n  :global(.ui-pnotify-closer),\n  :global(.ui-pnotify-sticker) {\n    float: right;\n    margin-left: .5em;\n    cursor: pointer;\n  }\n  :global([dir=rtl] .ui-pnotify-closer),\n  :global([dir=rtl] .ui-pnotify-sticker) {\n    float: left;\n    margin-right: .5em;\n    margin-left: 0;\n  }\n  :global(.ui-pnotify-buttons-hidden) {\n    visibility: hidden;\n  }\n</style>\n"],"mappings":"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"}